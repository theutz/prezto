# Get the session name
if [[ -n "$@" ]]; then
  session="$@"
else
  session="$(tmuxp ls | fzf)"
fi

# Load the session if it isn't already
if ! tmux has-session -t "$session" &>/dev/null; then
  tmuxp load -d "$session"
fi

tmux attach-session -t "$session" &>/dev/null \
  || tmux switch-client -t "$session" &>/dev/null
