# vim: ft=zsh

session="$(tmuxp ls | sk-tmux --select-1 --query "$argv")"

if [[ -z "$session" ]]; then
  echo "No session selected."
  return 1
fi

if ! tmux has-session -t "$session" &>/dev/null; then
  tmuxp load -d "$session"
fi

{
  tmux attach-session -t "$session" || tmux switch-client -t "$session"
} &>/dev/null
